/**
 * Generated by scaffdog
 * feature name is article
 * created at 2024/10/29
 **/
import "@typespec/http";
import "@typespec/openapi";
import "./model.tsp";
import "../rest-util/error-response.tsp";

using TypeSpec.Http;
using TypeSpec.OpenAPI;

namespace ArticleAPI {
  model ArticleListResponse {
    items: Article[];
  }

  model ArticleResponse {
    article: Article;
  }

  model ArticleDeleteResponse {
    id: ArticleId;
  }
}

@tag("article")
@route("/articles")
interface Articles {
  @operationId("listArticles")
  @get
  listArticles(): ArticleAPI.ArticleListResponse;

  @operationId("readArticle")
  @get
  resourceReadArticle(
    @path id: integer,
  ): ArticleAPI.ArticleResponse | ErrorResponse<
    404,
    ArticleOperation.NotFoundArticle
  >;

  @operationId("createArticle")
  @post
  createArticle(
    dto: ArticleOperation.CreateArticleDTO,
  ): ArticleAPI.ArticleResponse | ErrorResponse<
    400,
    ArticleOperation.ParameterInavlid
  >;

  @operationId("updateArticle")
  @put
  editArticle(
    @path id: integer,
    dto: ArticleOperation.UpdateArticleDTO,
  ): ArticleAPI.ArticleResponse | ErrorResponse<
    404,
    ArticleOperation.NotFoundArticle
  > | ErrorResponse<400, ArticleOperation.ParameterInavlid>;

  @operationId("deleteArticle")
  @delete
  deleteArticle(
    @path id: integer,
  ): ArticleAPI.ArticleDeleteResponse | ErrorResponse<
    404,
    ArticleOperation.NotFoundArticle
  >;
}
