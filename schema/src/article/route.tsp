/**
 * Generated by scaffdog
 * feature name is article
 * created at 2024/10/29
 **/
import "@typespec/http";
import "@typespec/openapi";
import "./model.tsp";
import "../rest-util/error-response.tsp";

using TypeSpec.Http;
using TypeSpec.OpenAPI;

namespace ArticleAPI {
  model ListItems<Model> {
    items: Model[]
  }

  model ArticleListResponse<Model> {
    @statusCode
    status: 200;

    @body
    items: ListItems<Model>;
  }

  model Item<Model> {
    article: Model
  }

  model ArticleItemResponse<Model, Status = 200> {
    @statusCode
    statusCode: Status;

    @body
    article: Item<Model>
  }
}

@tag("article")
@route("/articles")
interface Articles {
  @operationId("listArticles")
  @get
  listArticles(): ArticleAPI.ArticleListResponse<Article>;

  @operationId("readArticle")
  @get
  resourceReadArticle(@path id: integer): ArticleAPI.ArticleItemResponse<Article> | ErrorResponse<404, ArticleOperation.NotFoundArticle>;

  @operationId("createArticle")
  @post
  createArticle(dto: ArticleOperation.CreateArticleDTO): ArticleAPI.ArticleItemResponse<Article>;

  @operationId("updateArticle")
  @put
  editArticle(
    @path id: integer,
    @body dto: ArticleOperation.UpdateArticleDTO,
  ): ArticleAPI.ArticleItemResponse<Article> | ErrorResponse<404, ArticleOperation.NotFoundArticle>;
}
